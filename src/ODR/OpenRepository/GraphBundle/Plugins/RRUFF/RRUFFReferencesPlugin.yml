odr_plugins.rruff.rruff_references:
    name: RRUFF References Plugin
    category: RRUFF
    plugin_type: datatype
    render: odr_plugins.rruff.rruff_references
    version: 2.0.0
    override_fields: true
    override_field_reload: true
    override_child: false
    override_table_fields: true
    override_export: false
    override_search: true
    override_sort: false
    suppress_no_fields_note: false
    description: A heavily modified version of the default References Plugin that contains an autogenerated reference ID, an overridden Journal search, and renames uploaded files.
    registered_events:
        DatarecordCreatedEvent: onDatarecordCreate
        FilePreEncryptEvent: onFilePreEncrypt
        MassEditTriggerEvent: onMassEditTrigger
        PluginOptionsChangedEvent: onPluginOptionsChanged

    required_fields:
        authors:
            name: Authors
            description: The authors of this article.
            type: LongText
        title:
            name: Article Title
            description: The title of this article.
            type: LongText
        journal:
            name: Journal
            description: The name of the journal in which this article was published.
            type: LongText
        year:
            name: Year
            description: What year the article was published.
            type: ShortVarchar
        month:
            name: Month
            description: What month the article was published.
            type: ShortVarchar
        volume:
            name: Volume
            description: The volume number of the journal the article was published in.
            type: ShortVarchar
        issue:
            name: Issue
            description: The issue number of the journal the article was published in.
            type: ShortVarchar
        booktitle:
            name: Book Title
            description: The title of this book.
            type: LongVarchar
        publisher:
            name: Publisher
            description: The publisher of this book.
            type: LongVarchar
        publisher_location:
            name: Publisher Location
            description: Where the publisher of this book is located.
            type: LongVarchar
        keywords:
            name: Keywords
            description: Keywords related to the reference, for searching purposes.
            type: LongVarchar
        pages:
            name: Pages
            description: The pages the article takes up in the journal.
            type: ShortVarchar
        file:
            name: File
            description: A file containing a scan of the physical reference.
            type: File
        url:
            name: URL
            description: A URL that points to an online copy of the reference.
            type: LongVarchar

        reference_id:
            name: Reference ID
            description: An external ID used for the data
            type: IntegerValue
            properties:
                - autogenerate_values
                - must_be_unique

    config_options:
        substitute_article_title:
            name: Substitute Article Title?
            type: string
            default: no
            choices: no||No,yes||Yes
            description: If "Yes", then table layouts for records without an Article Title will attempt to use Book Title instead.
            display_order: 1
        substitute_journal:
            name: Substitute Journal?
            type: string
            default: no
            choices: no||No,yes||Yes
            description: If "Yes", then table layouts for records without a Journal will attempt to use Publisher instead.
            display_order: 2
