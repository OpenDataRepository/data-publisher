{% spaceless %}

{% set datatype = datatype_array[initial_datatype_id] %}

{% set theme = theme_array[initial_theme_id] %}
{% set theme_name = theme.themeMeta.templateName %}
{% if theme_name == '' %}
    {% set theme_name = 'theme_' ~ theme.id %}
{% endif %}

<div id="ODRRenderContent_{{ theme.id }}" class="ODRAccordionWrapper ODRFormAccordion ODRRenderContentHeader pure-u-1" style="margin-top: 20px;">
    <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-state-active" role="tab" aria-expanded="true" aria-selected="true" tabindex="0">
        <a>{{ datatype.dataTypeMeta.shortName }}</a>
    </h3>
</div>

<div class="ODRFormWrap ODRDesign">
    {% include 'ODRAdminBundle:ODRUser:view_childtype.html.twig' with {
        'datatype_permissions': datatype_permissions,
        'datafield_permissions': datafield_permissions,

        'datatype_array': datatype_array,
        'theme_array': theme_array,

        'target_datatype_id': initial_datatype_id,
        'target_theme_id': initial_theme_id,

        'is_top_level': 1,
    } %}
</div>

<script>
    $(function() {
        // Hide all TEDs without input fields
        setupAccordions();
    });
</script>
{% endspaceless %}
